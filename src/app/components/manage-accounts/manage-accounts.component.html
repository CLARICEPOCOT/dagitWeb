<app-navbar></app-navbar>
<head>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css"/>

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  </head>

  <body>
    
    <br><br>
    <div class= "container">
        <!--<div>
            <i class="medium material-icons left green-text">account_circle</i>
            <b style="font-size: 40px;">MY ACCOUNT</b><br>
          loop data in database -->
          <!--<div class="row">
            <div class="col" style="width: 50%;">
                <div style="width: 50%;" class="col">
                   <img *ngIf="currUser.path != null"
                   style="width:100%; border: 4px solid black;" class="thumbnail" src="getPhoto()">                    
                  <input
                  type="file" 
                  id="image"
                  [(ngModel)]="image"
                  name="image"
                  (change)="selectFile($event)" /><br><br>
                  <div (click)="uploadMyAccount(currUser)" 
                  class="fileUpload black hoverable btn small">EDIT IMAGE                       
                  </div>
                                
                </div>
            </div>
          <div class="col" style="width: 50%;">
            <b>Name:</b> {{ currUser.fName + ' ' + currUser.lName }}<br>
           <b>Email Address: </b> {{ currUser.emailAddress }}<br>
           <b>Password: </b> {{ currUser.password }} -->
          <!--</div>
        </div>
  
        </div>
        <br><br>-->
     
      <div *ngIf="currUser.access == 1">
          <i class="medium material-icons left red-text">recent_actors</i>
          <b style="font-size: 40px;">DESK TMO ACCOUNTS</b><br>
        <!--loop data in database -->
       <ul materialize="collapsible" class="collapsible popout" data-collapsible="accordion">
          <li *ngFor = "let accountD of deskTMO | async">
            <div class="collapsible-header">
              <span style="width: 590px;"class="col">{{accountD.fName + ' ' + accountD.lName }} </span> 
              <span class="badge black" *ngIf="accountD.emailAddress == currUser.emailAddress">My Account</span>
            </div>
            <div class="collapsible-body">
              <div class="row">
                  <div class="col" style="width: 50%;">
                      <div style="width: 50%;" class="col">
                         <img *ngIf="accountD.path != null"
                         style="width:100%; border: 4px solid black;" class="thumbnail" src="{{accountD.path}}">                    
                        <input
                        type="file" 
                        id="image"
                        [(ngModel)]="image"
                        name="image"
                        (change)="selectFile($event)" /><br><br>
                        <div (click)="uploadDesk(accountD)" 
                        class="fileUpload black hoverable btn small">EDIT IMAGE                       
                        </div>
                                      
                      </div>
                  </div>
                <div class="col" style="width: 50%;">
                 <b>Email Address: </b> {{ accountD.emailAddress }}<br>
                <!-- <b>Password: </b> {{ accountD.password }} -->
                </div>
              </div>

              <br><br>
              <div class="center" *ngIf="accountD.emailAddress != currUser.emailAddress">
                <!-- <a (click) ="onEditDesk(accountD)" class="black hoverable btn small">EDIT</a>-->
                 &nbsp;
                 <a (click) = "onDeleteDesk(accountD)" class="black hoverable btn small">DELETE</a>
                 &nbsp;
                 <span *ngIf = " accountD.enabled == 'yes' "><a (click) = "disableD('no', accountD.$key)"class="black hoverable btn small">DISABLE</a></span>
                   <span *ngIf = " accountD.enabled == 'no' "><a (click) = "enableD('yes', accountD.$key)"class="black hoverable btn small">ENABLE</a></span>
                 &nbsp;

              </div>       

            </div>
          </li>
        </ul>

      </div>
      <br>
      <br>

      <div>
          <i class="medium material-icons left orange-text">person_pin_circle</i>
          <b style="font-size: 40px;">ON-FIELD TMO ACCOUNTS</b><br>
        <!--loop data in database -->
        <ul materialize="collapsible" class="collapsible popout" data-collapsible="accordion">
            <li *ngFor = "let accountOF of onFieldTMO | async">
              <div class="collapsible-header" >
                <span style="width: 590px;"class="col">{{accountOF.fName + ' ' + accountOF.lName }} </span>
              </div>
              <div class="collapsible-body">
                <div class="row">
                    <div class="col" style="width: 50%;">
                        <div style="width: 50%;" class="col">
                          <img style="width:100%; border: 4px solid black;" class="thumbnail" src="{{accountOF.path}}">                 
                          <input
                          type="file" 
                          id="image"
                          [(ngModel)]="image"
                          name="image"
                          (change)="selectFile($event)" /><br><br>
                          <div (click)="uploadOF(accountOF)" 
                          class="fileUpload black hoverable btn small">EDIT IMAGE                       
                          </div>                                    
                    </div>
                  </div>  
                  <div class="col" style="width: 50%;">
                   <b>Username:</b> {{ accountOF.username }}<br>
                   <b>Password: </b> {{ accountOF.password }}<br>
                   <b>Assigned Location: </b> {{ accountOF.location }}<br>
                   <b>Time of Shift: </b> {{ accountOF.timeShift }}<br>
                  </div>
                           
                </div>
  
                <br><br>
                <div class="center">
                   <a (click) ="onEditOnfield(accountOF)" class="black hoverable btn small">EDIT</a>
                   &nbsp;
                   <a (click) = "onDeleteOnfield(accountOF.$key)" class="black hoverable btn small">DELETE</a>
                   &nbsp;
                   
                   <span *ngIf = " accountOF.enabled == 'yes' "><a (click) = "disableOF('no', accountOF.$key)"class="black hoverable btn small">DISABLE</a></span>
                   <span *ngIf = " accountOF.enabled == 'no' "><a (click) = "enableOF('yes', accountOF.$key)"class="black hoverable btn small">ENABLE</a></span>
                </div>       
  
              </div>
            </li>
          </ul>

      </div>

      
    </div> <!-- end of container -->
 
    
    <div class="fixed-action-btn">
        <a class="btn-floating btn-large yellow darken-1 hoverable">
          <i class="large material-icons black-text">person_add</i>
        </a>
        <ul>
            <li>
                <a materialize="tooltip"
                class="btn-floating green modal-trigger tooltipped" 
                data-position="left"
                data-delay="30"
                data-tooltip="Search by email"
                (click) = "openSearchEmail()">
                <i class="material-icons">email</i></a>
              </li>
            <li>
                <a materialize="tooltip"
                class="btn-floating green modal-trigger tooltipped" 
                data-position="left"
                data-delay="30"
                data-tooltip="Search by username"
                (click) = "openSearchUsername()">
                <i class="material-icons">verified_user</i></a>
              </li>
            <li>
                <a materialize="tooltip"
                class="btn-floating green modal-trigger tooltipped" 
                data-position="left"
                data-delay="30"
                data-tooltip="Search by location"
                (click) = "openSearchLocation()">
                <i class="material-icons">location_searching</i></a>
              </li>
            <li>
                <a materialize="tooltip"
                class="btn-floating green modal-trigger tooltipped" 
                data-position="left"
                data-delay="30"
                data-tooltip="Search by last name"
                (click) = "openSearch()">
                <i class="material-icons">search</i></a>
              </li>
        
          <li>
            <a materialize="tooltip"
            class="btn-floating red modal-trigger tooltipped" 
            data-position="left"
            data-delay="30"
            data-tooltip="Add desk TMO"
            (click) = "openDialog1()">
            <i class="material-icons">recent_actors</i></a>
          </li>
          <li>
            <a materialize="tooltip"
            class="btn-floating orange modal-trigger tooltipped" 
            data-position="left"
            data-delay="30"
            data-tooltip="Add on-field TMO"
            (click) = "openDialog2()">
            <i class="material-icons">person_pin_circle</i></a>
          </li>
        </ul>
      </div>
<br><br>

   
  </body>



